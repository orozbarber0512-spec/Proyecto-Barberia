<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- ‚úÖ META TAGS DE SEGURIDAD -->
  <meta http-equiv="X-Content-Type-Options" content="nosniff">
  <meta http-equiv="X-XSS-Protection" content="1; mode=block">
  <meta name="referrer" content="strict-origin-when-cross-origin">
  
  <!-- ‚úÖ Content Security Policy CORREGIDO (agregado googleusercontent.com) -->
  <meta http-equiv="Content-Security-Policy" content="
    default-src 'self';
    script-src 'self' https://cdnjs.cloudflare.com 'unsafe-inline';
    style-src 'self' https://fonts.googleapis.com https://cdnjs.cloudflare.com 'unsafe-inline';
    font-src 'self' https://fonts.gstatic.com https://cdnjs.cloudflare.com;
    img-src 'self' data: https:;
    connect-src 'self' https://script.google.com https://script.googleusercontent.com;
    frame-src 'none';
    object-src 'none';
    base-uri 'self';
    form-action 'self' https://script.google.com https://script.googleusercontent.com;
  ">
  
  <meta name="description" content="Reserva tu cita en Oroz Barber - Elige tu barbero y agenda tu cita">
  <meta name="robots" content="noindex, nofollow">
  <title>Reservar Cita - Oroz Barber</title>
  <link rel="icon" type="image/jpeg" href="oroz-barber.jpeg">
  
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Cinzel:wght@400;600;700&family=Inter:wght@200;300;400;600;700&display=swap" rel="stylesheet">
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" 
        integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" 
        crossorigin="anonymous" 
        referrerpolicy="no-referrer">
  
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="css/reservas.css">
</head>
<body>

  <header class="header-reservas">
    <div class="header-overlay" aria-hidden="true"></div>
    <div class="header-content">
      <a href="index.html" class="btn-volver" rel="noopener">
        <i class="fas fa-arrow-left" aria-hidden="true"></i> Volver al Inicio
      </a>
      <h1>Reserva tu Cita</h1>
      <p>Elige tu barbero de confianza</p>
    </div>
  </header>

  <div class="info-reservas">
    <article class="info-card-reserva">
      <i class="fas fa-clock" aria-hidden="true"></i>
      <h4>Horario de atenci√≥n</h4>
      <p>Lunes - Jueves: 8:00 AM - 12:00 PM | 2:00 PM - 8:00 PM</p>
      <p>Viernes - S√°bado: 8:00 AM - 12:00 PM | 2:00 PM - 10:00 PM</p>
      <p class="nota">Domingos cerrado</p>
    </article>
    <article class="info-card-reserva">
      <i class="fas fa-info-circle" aria-hidden="true"></i>
      <h4>Importante</h4>
      <p>Debes agendar con m√≠nimo <strong>2 horas</strong> de anticipaci√≥n</p>
      <p class="nota">Cancelaciones hasta 1 hora antes</p>
    </article>
    <article class="info-card-reserva">
      <i class="fas fa-envelope" aria-hidden="true"></i>
      <h4>Confirmaci√≥n</h4>
      <p>Recibir√°s un correo de confirmaci√≥n</p>
      <p class="nota">Revisa tu bandeja de entrada</p>
    </article>
  </div>

  <section class="barberos-section">
    <div class="container">
      <div class="barberos-grid">
        
        <article class="barbero-card" data-barbero="barbero1" role="button" tabindex="0">
          <div class="barbero-imagen">
            <img src="assets/images/Barbero1.jpeg" alt="Felipe Orozco - Barbero Senior" loading="lazy">
            <div class="barbero-overlay" aria-hidden="true">
              <i class="fas fa-calendar-check"></i>
              <p>Click para reservar</p>
            </div>
          </div>
          <div class="barbero-info">
            <h3 class="barbero-nombre">Felipe Orozco</h3>
            <p class="barbero-titulo">Barbero Senior</p>
            <div class="barbero-stats">
              <div class="stat-item"><i class="fas fa-star" aria-hidden="true"></i><span>10 a√±os exp.</span></div>
              <div class="stat-item"><i class="fas fa-scissors" aria-hidden="true"></i><span>(Pipe)</span></div>
            </div>
          </div>
        </article>

        <article class="barbero-card" data-barbero="barbero2" role="button" tabindex="0">
          <div class="barbero-imagen">
            <img src="assets/images/Barbero2.jpeg" alt="Tomas Orozco - Barbero Profesional" loading="lazy">
            <div class="barbero-overlay" aria-hidden="true">
              <i class="fas fa-calendar-check"></i>
              <p>Click para reservar</p>
            </div>
          </div>
          <div class="barbero-info">
            <h3 class="barbero-nombre">Tomas Orozco</h3>
            <p class="barbero-titulo">Barbero Profesional</p>
            <div class="barbero-stats">
              <div class="stat-item"><i class="fas fa-star" aria-hidden="true"></i><span>6 a√±os exp.</span></div>
              <div class="stat-item"><i class="fas fa-scissors" aria-hidden="true"></i><span>(Chinga)</span></div>
            </div>
          </div>
        </article>

        <article class="barbero-card" data-barbero="barbero3" role="button" tabindex="0">
          <div class="barbero-imagen">
            <img src="assets/images/Barbero3.jpeg" alt="Sergio Jim√©nez - Barbero Profesional" loading="lazy">
            <div class="barbero-overlay" aria-hidden="true">
              <i class="fas fa-calendar-check"></i>
              <p>Click para reservar</p>
            </div>
          </div>
          <div class="barbero-info">
            <h3 class="barbero-nombre">Sergio Jim√©nez</h3>
            <p class="barbero-titulo">Barbero Profesional</p>
            <div class="barbero-stats">
              <div class="stat-item"><i class="fas fa-star" aria-hidden="true"></i><span>4 a√±os exp.</span></div>
              <div class="stat-item"><i class="fas fa-scissors" aria-hidden="true"></i><span>(Checho)</span></div>
            </div>
          </div>
        </article>

      </div>
    </div>
  </section>

  <!-- MODAL -->
  <div id="reservaModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div class="modal-content">
      <button class="modal-close" aria-label="Cerrar modal">&times;</button>
      
      <!-- FORMULARIO CON HEADER -->
      <div id="contenedorFormulario">
        <div class="modal-header">
          <h2 id="modal-title">Reserva con <span id="barberoNombre"></span></h2>
          <p>Completa el formulario para confirmar tu cita</p>
        </div>

        <form id="reservaForm" class="reserva-form" novalidate>
          <input type="hidden" id="barberoSeleccionado" name="barbero">

          <div class="form-section">
            <h3><i class="fas fa-user" aria-hidden="true"></i> Informaci√≥n Personal</h3>
            <div class="form-row">
              <div class="form-group full-width">
                <label for="nombre">Nombre Completo <abbr title="requerido">*</abbr></label>
                <input type="text" 
                       id="nombre" 
                       name="nombre" 
                       required 
                       autocomplete="name"
                       maxlength="100"
                       pattern="[a-zA-Z√°√©√≠√≥√∫√Å√â√ç√ì√ö√±√ë\s]+"
                       aria-required="true"
                       list="historialNombres">
                <datalist id="historialNombres"></datalist>
              </div>
            </div>
            <div class="form-row">
              <div class="form-group full-width">
                <label for="email">Email <abbr title="requerido">*</abbr></label>
                <input type="email" 
                       id="email" 
                       name="email" 
                       placeholder="ejemplo@correo.com" 
                       required
                       autocomplete="email"
                       maxlength="254"
                       aria-required="true"
                       list="historialEmails">
                <datalist id="historialEmails"></datalist>
              </div>
            </div>
          </div>

          <div class="form-section">
            <h3><i class="fas fa-calendar-alt" aria-hidden="true"></i> Detalles de la Cita</h3>
            <div class="form-row">
              <div class="form-group">
                <label for="servicio">Servicio <abbr title="requerido">*</abbr></label>
                <select id="servicio" name="servicio" required aria-required="true">
                  <option value="">Selecciona un servicio</option>
                  <option value="Corte sencillo üíáüèª‚Äç‚ôÇÔ∏è - $22.000">Corte sencillo üíáüèª‚Äç‚ôÇÔ∏è - $22.000</option>
                  <option value="Limpieza Facial üíÜüèª - $25.000">Limpieza Facial üíÜüèª - $25.000</option>
                  <option value="Corte premium ‚≠êÔ∏è - $40.000">Corte premium ‚≠êÔ∏è - $40.000</option>
                  <option value="Corte con barba üßîüèª‚Äç‚ôÇÔ∏è - $25.000">Corte con barba üßîüèª‚Äç‚ôÇÔ∏è - $25.000</option>
                  <option value="Barba üßîüèª‚Äç‚ôÇÔ∏è - $7.000">Barba üßîüèª‚Äç‚ôÇÔ∏è - $7.000</option>
                </select>
              </div>
              <div class="form-group">
                <label for="fecha">Fecha <abbr title="requerido">*</abbr></label>
                <input type="date" 
                       id="fecha" 
                       name="fecha" 
                       required
                       aria-required="true">
              </div>
            </div>

            <div class="form-row">
              <div class="form-group full-width">
                <label for="hora">Hora Disponible <abbr title="requerido">*</abbr></label>
                <div id="horasDisponibles" class="horas-disponibles" role="region" aria-live="polite">
                  <div class="loading-horas">
                    <p>Selecciona un servicio y una fecha para ver las horas disponibles</p>
                  </div>
                </div>
                <input type="hidden" id="hora" name="hora" required aria-required="true">
              </div>
            </div>
          </div>

          <div class="form-buttons">
            <button type="button" class="btn-cancelar" onclick="cerrarModal()">Cancelar</button>
            <button type="submit" class="btn-confirmar"><i class="fas fa-check" aria-hidden="true"></i> Confirmar Reserva</button>
          </div>
        </form>
      </div>

      <!-- MENSAJE DE √âXITO -->
      <div id="mensajeExito" class="mensaje-exito" style="display: none;" role="alert">
        <i class="fas fa-check-circle" aria-hidden="true"></i>
        <h3>¬°Reserva Confirmada!</h3>
        <p>Te hemos enviado un mensaje de confirmaci√≥n por correo electr√≥nico</p>
        <p>No olvides revisar tu bandeja de Spam</p>
        <button class="btn-cerrar-exito" onclick="cerrarModal()">Cerrar</button>
      </div>

    </div>
  </div>

  <script src="js/reservas.js"></script>

  <footer class="footer-simple">
    <div class="footer-bottom">
      <p>&copy; 2026 Oroz Barber. Todos los derechos reservados.</p>
      <p class="footer-developer">
        Desarrollado por <a href="https://www.linkedin.com/in/juan-duquec" target="_blank" rel="noopener noreferrer">Juan Jose Duque Castro</a>
      </p>
    </div>
  </footer>

</body>
</html>